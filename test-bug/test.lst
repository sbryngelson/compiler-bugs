%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S u m m a r y   R e p o r t
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Compilation
-----------
File     : /autofs/nccs-svm1_home1/sbryngelson/test-bug/test.f90
Compiled : 04/24/23  15:22:15
Compiler : Version 15.0.1
Ftnlx    : Version 15.0.1 
Target   : x86-64
Command  : ftn_driver.exe -hcpu=x86-trento -haccel=amdgcn-gfx90a -hnetwork=ofi
           -hdynamic -D__CRAY_X86_TRENTO -D__CRAY_AMD_GFX90A
           -D__CRAYXT_COMPUTE_LINUX_TARGET -eacc -hmsgs -hnomessage=1069
           -eD test.f90 -otest
           -I/opt/cray/pe/cce/15.0.1/cce-clang/x86_64/lib/clang/15.0.6/include
           -I/opt/cray/pe/cce/15.0.1/cce/x86_64/include/craylibs -I/usr/include
           -L/opt/cray/pe/gcc/10.3.0/snos/lib64
           -I/opt/cray/pe/mpich/8.1.23/ofi/cray/10.0/include
           -I/opt/cray/pe/libsci/22.12.1.1/CRAY/9.0/x86_64/include
           -I/opt/cray/pe/hdf5/1.12.2.1/crayclang/14.0/include
           -I/opt/cray/pe/pmi/6.1.10/include
           -I/opt/cray/pe/fftw/3.3.10.3/x86_milan/include
           -I/opt/cray/pe/dsmml/0.2.2/dsmml//include
           -I/opt/cray/xpmem/2.5.2-2.4_3.30__gd0f7936.shasta/include
           -L/opt/cray/pe/mpich/8.1.23/ofi/cray/10.0/lib
           -L/opt/cray/pe/mpich/8.1.23/gtl/lib
           -L/opt/cray/pe/libsci/22.12.1.1/CRAY/9.0/x86_64/lib
           -L/opt/cray/pe/hdf5/1.12.2.1/crayclang/14.0/lib
           -L/opt/cray/pe/pmi/6.1.10/lib
           -L/opt/cray/pe/fftw/3.3.10.3/x86_milan/lib
           -L/opt/cray/pe/dsmml/0.2.2/dsmml//lib
           -L/opt/cray/pe/cce/15.0.1/cce/x86_64/lib/pkgconfig/../
           -L/opt/cray/xpmem/2.5.2-2.4_3.30__gd0f7936.shasta/lib64
           -lmpi_gtl_hsa -ldl -lxpmem -lquadmath -lcrayacc_amdgpu -lopenacc
           -lmodules -lfi -lcraymath -lf -lu -lcsup -I/usr/include -lstdc++
           -lpthread
           -L/opt/cray/pe/cce/15.0.1/cce-clang/x86_64/lib/clang/15.0.6/lib/linux
           -lclang_rt.builtins-x86_64
Program
  Units  : VARS
          MOD
          MAIN

ftnlx report
------------
Source   : /autofs/nccs-svm1_home1/sbryngelson/test-bug/test.f90
Date     : 04/24/2023  15:22:15


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S o u r c e   L i s t i n g
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

    1.    module vars
    2.      
    3.      implicit none
    4.      
    5.      integer, allocatable, dimension ( : ), target :: &
    6.        cherche
    7.      !$acc declare link ( cherche )
                 ^                         
ftn-1981 ftn: WARNING VARS, File = test.f90, Line = 7, Column = 8 
  This compilation contains OpenACC directives.  -h acc is not active so the directives are ignored.

    8.    contains
    9.      subroutine s_init ( ) 
   10.      
   11.      allocate ( cherche ( 1 : 10 ) )
   12.      !$acc enter data create ( cherche )
   13.      
   14.      !-- Initialize to huge on the host and device
   15.      cherche = huge ( 1 )
ftn-6204 ftn: VECTOR S_INIT, File = test.f90, Line = 15 
  A loop starting at line 15 was vectorized.

   16.      !acc update device ( cherche )
   17.      
   18.      end subroutine s_init
   19.    end module vars


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S o u r c e   L i s t i n g
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   20.    
   21.    module mod
   22.      use vars, only : cherche
   23.      implicit none
   24.    contains
   25.      subroutine s_faire ( myI )
   26.        integer, intent ( in ) :: myI
   27.        
   28.        !$acc routine seq
   29.        cherche ( myI ) = myI
   30.      end subroutine s_faire
   31.    end module mod


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                          S o u r c e   L i s t i n g
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

   32.    
   33.    program main
   34.      use mod
                ^   
ftn-878 ftn: WARNING MAIN, File = test.f90, Line = 34, Column = 7 
  A module named "VARS" has already been directly or indirectly use associated into this scope.

   35.      use vars
   36.    
   37.      implicit none
   38.    
   39.      integer :: iV
   40.    
   41.      call s_init ( )
   42.      
   43.      !$acc parallel loop present ( cherche )
   44.      do iV = 1, 10
   45.        call s_faire ( iV )
   46.      end do
   47.      
   48.      !-- This should print out huge ( )
   49.      print*, 'cherche 1: ', cherche
   50.      
   51.      !-- This should print 1 to 10
   52.      !$acc update host ( cherche )
   53.      print*, 'cherche 2: ', cherche
   54.      
   55.    
   56.    end program main


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
                         E x t e r n a l   R e p o r t
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Name  Messages
----  --------
ABORT
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
ABORT(Intrinsic)
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
EXIT(Intrinsic)
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
FLUSH
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
FLUSH(Intrinsic)
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
FLUSH_8
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
FTN_LIB_DEFINITIONS
      Defined as:  No definitions.

      Used By:     VARS

Name  Messages
----  --------
HUGE(Intrinsic)
      Defined as:  No definitions.

      Interface:   None

      Called By:   MAIN (Line 15, file test.f90)

Name  Messages
----  --------
ICEIL
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
ICEIL_J
      Defined as:  No definitions.

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
MAIN
      Defined as:  Program (line 33, file test.f90)

      Calls:       S_INIT in VARS (Line 41, file test.f90)

        Uses:      MOD
                   VARS  (indirectly)
                   VARS

Name  Messages
----  --------
MOD
      Defined as:  Module (line 21, file test.f90)

        Uses:      VARS

      Used By:     MAIN

Name  Messages
----  --------
S_FAIRE in MOD
      Defined as:  Subroutine (line 25, file test.f90)

                   No calls.  It is not called and does not use any procedure.

      Interface:   None

Name  Messages
----  --------
S_INIT in VARS
      Defined as:  Subroutine (line 9, file test.f90)

      Interface:   None

      Called By:   VARS (Line 41, file test.f90)

      Calls:       HUGE(Intrinsic) (Line 15, file test.f90)

Name  Messages
----  --------
VARS
      Defined as:  Module (line 1, file test.f90)

        Uses:      FTN_LIB_DEFINITIONS

      Used By:     MOD
                   MAIN  (indirectly)
                   MAIN


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
